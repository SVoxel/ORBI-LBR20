if(top.an_router_flag==1){var Africa=1;var Asia=2;var Australia=3;var Canada=4;var China=5;var Europe=6;var India=7;var Israel=8;var Japan=9;var Korea=10;var Malaysia=11;var Mexico=12;var Middle_East_Algeria_Syria_Yemen=13;var Middle_East_Iran_Lebanon_Qatar=14;var Middle_East_Turkey_Egypt_Tunisia_Kuwait=15;var Middle_East_Saudi_Arabia=16;var Middle_East_United_Arab_Emirates=17;var Middle_East=-1;var Russia=18;var Singapore=19;var South_America=20;var Taiwan=21;var United_States=22}else{var Africa=1;var Asia=2;var Australia=3;var Canada=-1;var China=-1;var Europe=4;var India=-1;var Israel=5;var Japan=6;var Korea=7;var Malaysia=-1;var Mexico=9;var Middle_East_Algeria_Syria_Yemen=-1;var Middle_East_Iran_Lebanon_Qatar=-1;var Middle_East_Turkey_Egypt_Tunisia_Kuwait=-1;var Middle_East_Saudi_Arabia=-1;var Middle_East_United_Arab_Emirates=-1;var Middle_East=10;var Russia=11;var Singapore=-1;var South_America=12;var Taiwan=-1;var United_States=8}function getObj(a){if(document.getElementById){return document.getElementById(a)}else{if(document.all){return document.all[a]}else{if(document.layers){return document.layers[a]}}}}function changekeylen(a){if(a.wepenc.options[0].selected==true){a.KEY1.size=a.KEY2.size=a.KEY3.size=a.KEY4.size=12;a.KEY1.value=wep_64_key1;a.KEY2.value=wep_64_key2;a.KEY3.value=wep_64_key3;a.KEY4.value=wep_64_key4}else{a.KEY1.size=a.KEY2.size=a.KEY3.size=a.KEY4.size=28;a.KEY1.value=wep_128_key1;a.KEY2.value=wep_128_key2;a.KEY3.value=wep_128_key3;a.KEY4.value=wep_128_key4}a.generate_flag.value=0}function changekeylen_a(a){if(a.wepenc_an.options[0].selected==true){a.KEY1_an.size=a.KEY2_an.size=a.KEY3_an.size=a.KEY4_an.size=12;a.KEY1_an.value=wep_64_key1_a;a.KEY2_an.value=wep_64_key2_a;a.KEY3_an.value=wep_64_key3_a;a.KEY4_an.value=wep_64_key4_a}else{a.KEY1_an.size=a.KEY2_an.size=a.KEY3_an.size=a.KEY4_an.size=28;a.KEY1_an.value=wep_128_key1_a;a.KEY2_an.value=wep_128_key2_a;a.KEY3_an.value=wep_128_key3_a;a.KEY4_an.value=wep_128_key4_a}a.generate_flag.value=0}function opmode_disabled(){document.getElementById("opmode_all").style.display="none";document.getElementById("opmode_54").style.display=""}function setSecurity(num){var form=document.forms[0];form.wpa1_press_flag.value=0;form.wpa2_press_flag.value=0;form.wpas_press_flag.value=0;if(num==2){getObj("view").innerHTML=str_wep;changekeylen(form);var keyno=wl_get_keyno;var keylength=wl_get_keylength;form.wep_key_no[eval(keyno)-1].checked=true;form.KEY1.value=wl_key1;form.KEY2.value=wl_key2;form.KEY3.value=wl_key3;form.KEY4.value=wl_key4;form.old_length.value=keylength}else{if(num==3){getObj("view").innerHTML=str_wpa}else{if(num==4){getObj("view").innerHTML=str_wpa2}else{if(num==5){getObj("view").innerHTML=str_wpas}else{if(num==6){getObj("view").innerHTML=str_wpae;form.wpae_mode.value=get_wpae_mode;if(get_radiusSerIp!=""&&get_radiusSerIp!="0.0.0.0"){radiusIPArray=get_radiusSerIp.split(".");form.radiusIPAddr1.value=radiusIPArray[0];form.radiusIPAddr2.value=radiusIPArray[1];form.radiusIPAddr3.value=radiusIPArray[2];form.radiusIPAddr4.value=radiusIPArray[3]}form.textWpaeRadiusPort.value=get_radiusPort}else{getObj("view").innerHTML=str_none}}}}}}function opmode_an_disabled(){document.getElementById("opmode_an_all").style.display="none";document.getElementById("opmode_an_54").style.display=""}function opmode_an_abled(){document.getElementById("opmode_an_all").style.display="";document.getElementById("opmode_an_54").style.display="none"}function setSecurity_an(num){var form=document.forms[0];form.wla_wpa1_press_flag.value=0;form.wla_wpa2_press_flag.value=0;form.wla_wpas_press_flag.value=0;if(num==2){getObj("view_a").innerHTML=str_wep_an;changekeylen_a(form);var keyno=wla_get_keyno;var keylength=wla_get_keylength;form.wep_key_no_an[eval(keyno)-1].checked=true;form.KEY1_an.value=wla_key1;form.KEY2_an.value=wla_key2;form.KEY3_an.value=wla_key3;form.KEY4_an.value=wla_key4;form.old_length_a.value=keylength}else{if(num==3){getObj("view_a").innerHTML=str_wpa_an}else{if(num==4){getObj("view_a").innerHTML=str_wpa2_an}else{if(num==5){getObj("view_a").innerHTML=str_wpas_an}else{if(num==6){getObj("view_a").innerHTML=str_wpae_an;form.wpae_mode_an.value=get_wpae_mode_a;if(get_radiusSerIp_a!=""&&get_radiusSerIp_a!="0.0.0.0"){radiusIPArray=get_radiusSerIp_a.split(".");form.radiusIPAddr1_an.value=radiusIPArray[0];form.radiusIPAddr2_an.value=radiusIPArray[1];form.radiusIPAddr3_an.value=radiusIPArray[2];form.radiusIPAddr4_an.value=radiusIPArray[3]}form.textWpaeRadiusPort_an.value=get_radiusPort_a}else{getObj("view_a").innerHTML=str_none_an}}}}}}function wl_sectype_change(){var a=document.forms[0];if(a.opmode.options[0].selected==true){document.getElementById("wep_54").style.display=""}else{document.getElementById("wep_54").style.display="none"}}function wl_54_sectype_change(){var a=document.forms[0];document.getElementById("wep_54").style.display="";document.getElementById("wpa_psk_54").style.display=""}function wla_sectype_change(){var a=document.forms[0];if(a.opmode_an.value=="1"){document.getElementById("wep_an_54").style.display=""}else{document.getElementById("wep_an_54").style.display="none"}}function wla_54_sectype_change(){var a=document.forms[0];document.getElementById("wep_an_54").style.display="";document.getElementById("wpa_psk_an_54").style.display=""}function wpaemode(){var a=document.forms[0];document.getElementById("opmode_all").style.display="";document.getElementById("opmode_54").style.display="none";wl_sectype_change()}function wpaemode_an(){var a=document.forms[0];document.getElementById("opmode_an_all").style.display="";document.getElementById("opmode_an_54").style.display="none";wla_sectype_change()}function check_dfs(){var a=document.forms[0];var k=dfs_info.split(":");var h;var g=a.w_channel_an;var b=g.selectedIndex;var d=g.options[b].text;var f=g.options[b].value;if(d.indexOf("(DFS)")==-1){return true}for(i=0;i<k.length;i++){h=k[i].split(" ");var e=h[3]%60;var c=parseInt(h[3]/60);if(f==h[0]){alert("$using_dfs_1"+c+"$using_dfs_2"+e+"$using_dfs_3");return false}}if(confirm("$select_dfs")==false){return false}return true}function chgCh(b){if(b==2){var a=document.forms[0];setChannel()}else{setwlan_mode();setChannel()}}function setwlan_mode(){var c=document.forms[0];var a=c.WRegion.selectedIndex;a=parseInt(a)+1;var b=c.opmode.selectedIndex;if(a==Africa||a==Israel||a==Middle_East_Turkey_Egypt_Tunisia_Kuwait||a==Middle_East_Saudi_Arabia){c.opmode.options.length=2;c.opmode.options[0].text=wlan_mode_54;c.opmode.options[1].text=wlan_mode_130;c.opmode.options[0].value="1";c.opmode.options[1].value="2";if(b<=1){c.opmode.selectedIndex=b}else{c.opmode.selectedIndex=1}}else{c.opmode.options.length=3;c.opmode.options[0].text=wlan_mode_54;c.opmode.options[1].text=wlan_mode_130;c.opmode.options[2].text=wlan_mode_300;c.opmode.options[0].value="1";c.opmode.options[1].value="2";c.opmode.options[2].value="3";c.opmode.selectedIndex=b}return}function setChannel(){var f=document.forms[0];var b=f.WRegion.selectedIndex;b=parseInt(b)+1;var a=f.w_channel.selectedIndex;var e=f.opmode.selectedIndex;var d;d=FinishChannel[b];if(FinishChannel[b]==14&&f.opmode.selectedIndex!=0){f.w_channel.options.length=d-StartChannel[b]}else{f.w_channel.options.length=d-StartChannel[b]+2}f.w_channel.options[0].text="$auto_mark";f.w_channel.options[0].value=0;for(var c=StartChannel[b];c<=d;c++){if(c==14&&f.opmode.selectedIndex!=0){continue}f.w_channel.options[c-StartChannel[b]+1].value=c;f.w_channel.options[c-StartChannel[b]+1].text=(c<10)?"0"+c:c}f.w_channel.selectedIndex=((a>-1)&&(a<f.w_channel.options.length))?a:0}function setBChannel(){var f=document.forms[0];var b=f.WRegion.selectedIndex;b=parseInt(b)+1;var a=f.w_channel.selectedIndex;var e=f.opmode.selectedIndex;var d;d=FinishChannelB[b];if(FinishChannelB[b]==14&&f.opmode.selectedIndex!=0){f.w_channel.options.length=d-StartChannelB[b]}else{f.w_channel.options.length=d-StartChannelB[b]+2}f.w_channel.options[0].text="$auto_mark";f.w_channel.options[0].value=0;for(var c=StartChannelB[b];c<=d;c++){if(c==14&&f.opmode.selectedIndex!=0){continue}f.w_channel.options[c-StartChannelB[b]+1].value=c;f.w_channel.options[c-StartChannelB[b]+1].text=(c<10)?"0"+c:c}f.w_channel.selectedIndex=((a>-1)&&(a<f.w_channel.options.length))?a:0}function chgChA(b){var a=document.forms[0];if(b==2){setAChannel(a.w_channel_an)}else{setAwlan_mode();setAChannel(a.w_channel_an)}}function setAwlan_mode(){if(ac_router_flag==1){setACwlan_mode()}else{setANwlan_mode()}}function setACwlan_mode(){var c=document.forms[0];var a=c.WRegion.selectedIndex;a=parseInt(a)+1;var b=c.opmode_an.selectedIndex;if(a==Africa||a==Israel||a==Middle_East_Turkey_Egypt_Tunisia_Kuwait||a==Middle_East_Saudi_Arabia){c.opmode_an.options.length=1;c.opmode_an.options[0].text=wlan_mode_192;c.opmode_an.options[0].value="7";if(b<=0){c.opmode_an.selectedIndex=b}else{c.opmode_an.selectedIndex=0}c.w_channel_an.disabled=false;c.opmode_an.disabled=false}else{if(a==Middle_East_Algeria_Syria_Yemen){c.w_channel_an.selectedIndex=0;c.w_channel_an.disabled=true;c.opmode_an.options.length=3;c.opmode_an.options[0].text=wlan_mode_192;c.opmode_an.options[1].text=wlan_mode_400;c.opmode_an.options[2].text=wlan_mode_867;c.opmode_an.options[0].value="7";c.opmode_an.options[1].value="8";c.opmode_an.options[2].value="9";c.opmode_an.disabled=true}else{if(a==Korea||a==Russia){c.opmode_an.options.length=2;c.opmode_an.options[0].text=wlan_mode_192;c.opmode_an.options[1].text=wlan_mode_400;c.opmode_an.options[0].value="7";c.opmode_an.options[1].value="8";if(b<=1){c.opmode_an.selectedIndex=b}else{c.opmode_an.selectedIndex=0}c.w_channel_an.disabled=false;c.opmode_an.disabled=false}else{c.opmode_an.options.length=3;c.opmode_an.options[0].text=wlan_mode_192;c.opmode_an.options[1].text=wlan_mode_400;c.opmode_an.options[2].text=wlan_mode_867;c.opmode_an.options[0].value="7";c.opmode_an.options[1].value="8";c.opmode_an.options[2].value="9";c.opmode_an.selectedIndex=b;c.w_channel_an.disabled=false;c.opmode_an.disabled=false}}}return}function setANwlan_mode(){var c=document.forms[0];var a=c.WRegion.selectedIndex;a=parseInt(a)+1;var b=c.opmode_an.selectedIndex;if(a==Africa||a==Israel||a==Middle_East_Turkey_Egypt_Tunisia_Kuwait||a==Middle_East_Saudi_Arabia){c.opmode_an.options.length=2;c.opmode_an.options[0].text=wlan_mode_54;c.opmode_an.options[1].text=wlan_mode_130;c.opmode_an.options[0].value="1";c.opmode_an.options[1].value="2";if(b<=1){c.opmode_an.selectedIndex=b}else{c.opmode_an.selectedIndex=1}c.w_channel_an.disabled=false;c.opmode_an.disabled=false}else{if(a==Middle_East_Algeria_Syria_Yemen){c.w_channel_an.selectedIndex=0;c.w_channel_an.disabled=true;c.opmode_an.options.length=3;c.opmode_an.options[0].text=wlan_mode_54;c.opmode_an.options[1].text=wlan_mode_130;c.opmode_an.options[2].text=wlan_mode_300;c.opmode_an.options[0].value="1";c.opmode_an.options[1].value="2";c.opmode_an.options[2].value="3";c.opmode_an.disabled=true}else{if(ac_router_flag==1){c.opmode_an.options.length=4;c.opmode_an.options[3].text=wlan_mode_867;c.opmode_an.options[3].value="9"}else{c.opmode_an.options.length=3}c.opmode_an.options[0].text=wlan_mode_54;c.opmode_an.options[1].text=wlan_mode_130;c.opmode_an.options[2].text=wlan_mode_300;c.opmode_an.options[0].value="1";c.opmode_an.options[1].value="2";c.opmode_an.options[2].value="3";c.opmode_an.selectedIndex=b;c.w_channel_an.disabled=false;c.opmode_an.disabled=false}}return}function setAChannel(l){var a=document.forms[0];var k=a.WRegion.selectedIndex;var g=document.getElementById("select_channel_an").options;var n=parseInt(k,10)+1;var h=parseInt(wl_get_countryA,10);k=n;var o=l.selectedIndex;var b=l.options[o].value;var f=a.opmode_an.value;var e;if(dfs_channel_router_flag==1){var d=new Array(0,36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140,149,153,157,161,165);l.options[0].text="$auto_mark";l.options[0].value=0;if(k==Korea){e=16;l.options.length=21;for(i=1;i<=e;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}l.options[17].value=l.options[17].text=149;l.options[18].value=l.options[18].text=153;l.options[19].value=l.options[19].text=157;l.options[20].value=l.options[20].text=161}else{if(k==Africa){e=13;l.options.length=16;for(i=1;i<=e;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}l.options[14].value=136;l.options[14].text="136(DFS)";l.options[15].value=140;l.options[15].text="140(DFS)"}else{if(k==Asia||k==South_America){if(f==1||f==2||f==7){l.options.length=d.length;for(i=1;i<d.length;i++){l.options[i].value=d[i];if(i>4&&i<20){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}}else{l.options.length=23;for(i=1;i<=l.options.length-4;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}l.options[19].value=l.options[19].text=149;l.options[20].value=l.options[20].text=153;l.options[21].value=l.options[21].text=157;l.options[22].value=l.options[22].text=161}}else{if(k==Australia){if(f==1||f==2||f==7){l.options.length=22;for(i=1;i<l.options.length;i++){if(i>13){j=i+3}else{j=i}l.options[i].value=d[j];if(i>4&&i<17){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{l.options.length=19;for(i=1;i<l.options.length-6;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}l.options[13].value=132;l.options[13].text="132(DFS)";l.options[14].value=136;l.options[14].text="136(DFS)";l.options[15].value=l.options[15].text=149;l.options[16].value=l.options[16].text=153;l.options[17].value=l.options[17].text=157;l.options[18].value=l.options[18].text=161}}else{if(k==Canada||k==United_States){if(f==1||f==2||f==7){l.options.length=21;for(i=1;i<l.options.length;i++){if(i>13){j=i+4}else{j=i}l.options[i].value=d[j];if(i>4&&i<16){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{l.options.length=17;for(i=1;i<l.options.length-4;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}l.options[13].value=l.options[13].text=149;l.options[14].value=l.options[14].text=153;l.options[15].value=l.options[15].text=157;l.options[16].value=l.options[16].text=161}}else{if(k==India||k==Mexico||k==Malaysia||k==Middle_East_Saudi_Arabia||k==Singapore){if(f==1||f==2||f==7){l.options.length=14;for(i=1;i<l.options.length;i++){if(i>8){j=i+11}else{j=i}l.options[i].value=d[j];if(i>4&&i<9){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{l.options.length=13;l.options[1].value=l.options[1].text=36;l.options[2].value=l.options[2].text=40;l.options[3].value=l.options[3].text=44;l.options[4].value=l.options[4].text=48;l.options[5].value=52;l.options[5].text="52(DFS)";l.options[6].value=56;l.options[6].text="56(DFS)";l.options[7].value=60;l.options[7].text="60(DFS)";l.options[8].value=64;l.options[8].text="64(DFS)";l.options[9].value=l.options[9].text=149;l.options[10].value=l.options[10].text=153;l.options[11].value=l.options[11].text=157;l.options[12].value=l.options[12].text=161}}else{if(k==China||k==Middle_East_Iran_Lebanon_Qatar){if(f==1||f==2||f==7){l.options.length=6;l.options[1].value=l.options[1].text=149;l.options[2].value=l.options[2].text=153;l.options[3].value=l.options[3].text=157;l.options[4].value=l.options[4].text=161;l.options[5].value=l.options[5].text=165}else{l.options.length=5;l.options[1].value=l.options[1].text=149;l.options[2].value=l.options[2].text=153;l.options[3].value=l.options[3].text=157;l.options[4].value=l.options[4].text=161}}else{if(k==Europe||k==Japan||k==Middle_East_United_Arab_Emirates){if(f==1||f==2||f==7){l.options.length=20;for(i=1;i<l.options.length;i++){j=i;l.options[i].value=d[j];if(i>4){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{l.options.length=19;for(i=1;i<l.options.length;i++){l.options[i].value=d[i];if(i>4){l.options[i].text=d[i]+"(DFS)"}else{l.options[i].text=d[i]}}}}else{if(k==Israel||k==Middle_East_Turkey_Egypt_Tunisia_Kuwait){l.options.length=9;for(i=1;i<l.options.length;i++){j=i;l.options[i].value=d[j];if(i>4){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{if(k==Russia){e=5;l.options.length=5;for(i=1;i<e;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}else{if(k==Taiwan){if(f==1||f==2||f==7){l.options.length=20;for(i=1;i<l.options.length;i++){j=i+5;l.options[i].value=d[j];if(i>3&&i<15){l.options[i].text=d[j]+"(DFS)"}else{l.options[i].text=d[j]}}}else{l.options.length=17;l.options[1].value=l.options[1].text=60;l.options[2].value=l.options[2].text=64;l.options[3].value=100;l.options[3].text="100(DFS)";l.options[4].value=104;l.options[4].text="104(DFS)";l.options[5].value=108;l.options[5].text="108(DFS)";l.options[6].value=112;l.options[6].text="112(DFS)";l.options[7].value=116;l.options[7].text="116(DFS)";l.options[8].value=120;l.options[8].text="120(DFS)";l.options[9].value=124;l.options[9].text="124(DFS)";l.options[10].value=128;l.options[10].text="128(DFS)";l.options[11].value=132;l.options[11].text="132(DFS)";l.options[12].value=136;l.options[12].text="136(DFS)";l.options[13].value=l.options[13].text=149;l.options[14].value=l.options[14].text=153;l.options[15].value=l.options[15].text=157;l.options[16].value=l.options[16].text=161}}}}}}}}}}}}}else{var d=new Array(36,40,44,48,149,153,157,161,165);var c=new Array(36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140,149,153,157,161,165);if(k==Asia||k==Australia||k==Canada||k==India||k==Malaysia||k==Mexico||k==Singapore||k==South_America||k==United_States){if(f==1||f==2||f==7){e=9;l.options.length=9;for(i=0;i<e;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}else{e=8;l.options.length=8;for(i=0;i<l.options.length;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}}else{if(k==Korea){e=8;l.options.length=8;for(i=0;i<e;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}else{if(k==China||k==Middle_East_Iran_Lebanon_Qatar){if(f==1||f==2||f==7){l.options.length=5;l.options[0].value=l.options[0].text=149;l.options[1].value=l.options[1].text=153;l.options[2].value=l.options[2].text=157;l.options[3].value=l.options[3].text=161;l.options[4].value=l.options[4].text=165}else{l.options.length=4;l.options[0].value=l.options[0].text=149;l.options[1].value=l.options[1].text=153;l.options[2].value=l.options[2].text=157;l.options[3].value=l.options[3].text=161}}else{if(k==Middle_East_Saudi_Arabia){e=9;l.options.length=9;for(i=0;i<e;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}else{if(k==Taiwan){if(f==1||f==2||f==7){l.options.length=8;l.options[0].value=l.options[0].text=56;l.options[1].value=l.options[1].text=60;l.options[2].value=l.options[2].text=64;l.options[3].value=l.options[3].text=149;l.options[4].value=l.options[4].text=153;l.options[5].value=l.options[5].text=157;l.options[6].value=l.options[6].text=161;l.options[7].value=l.options[7].text=165}else{if(f==9){l.options.length=4;l.options[0].value=l.options[0].text=149;l.options[1].value=l.options[1].text=153;l.options[2].value=l.options[2].text=157;l.options[3].value=l.options[3].text=161}else{l.options.length=6;l.options[0].value=l.options[0].text=60;l.options[1].value=l.options[1].text=64;l.options[2].value=l.options[2].text=149;l.options[3].value=l.options[3].text=153;l.options[4].value=l.options[4].text=157;l.options[5].value=l.options[5].text=161}}}else{e=4;l.options.length=4;for(i=0;i<e;i++){l.options[i].value=d[i];l.options[i].text=d[i]}}}}}}if(dfs_channel2_router_flag==1){if(k==Europe){if(f==1||f==2||f==7){e=19;l.options.length=19;for(i=0;i<4;i++){l.options[i].value=c[i];l.options[i].text=c[i]}for(i=4;i<e;i++){l.options[i].value=c[i];l.options[i].text=c[i]+"(DFS)"}}else{l.options.length=18;for(i=0;i<l.options.length;i++){l.options[i].value=c[i];if(i>3){l.options[i].text=c[i]+"(DFS)"}else{l.options[i].text=c[i]}}}}else{if(k==Australia){if(f==1||f==2||f==7){e=12;l.options.length=21;for(i=0;i<4;i++){l.options[i].value=c[i];l.options[i].text=c[i]}for(i=4;i<e;i++){l.options[i].value=c[i];l.options[i].text=c[i]+"(DFS)"}l.options[12].value=116;l.options[13].value=132;l.options[14].value=136;l.options[15].value=140;l.options[12].text=116+"(DFS)";l.options[13].text=132+"(DFS)";l.options[14].text=136+"(DFS)";l.options[15].text=140+"(DFS)";l.options[16].value=l.options[16].text=149;l.options[17].value=l.options[17].text=153;l.options[18].value=l.options[18].text=157;l.options[19].value=l.options[19].text=161;l.options[20].value=l.options[20].text=165}else{l.options.length=18;for(i=0;i<l.options.length-6;i++){l.options[i].value=c[i];if(i>3){l.options[i].text=c[i]+"(DFS)"}else{l.options[i].text=c[i]}}l.options[12].value=132;l.options[12].text="132(DFS)";l.options[13].value=136;l.options[13].text="136(DFS)";l.options[14].value=l.options[14].text=149;l.options[15].value=l.options[15].text=153;l.options[16].value=l.options[16].text=157;l.options[17].value=l.options[17].text=161}}}}}var m=0;for(i=0;i<g.length;i++){if(g[i].value==b){m=1;l.selectedIndex=i;break}}if(m==0){for(i=0;i<g.length;i++){if(g[i].value==wla_get_channel){m=1;l.selectedIndex=i;break}}}if(m==0){l.selectedIndex=0}}function check_wlan(){var h=0;var g=0;var f=0;var b=document.forms[0];var c=document.forms[0].ssid.value;var a=document.forms[0].ssid_an.value;var k=0;var d=document.forms[0].wla1ssid.value;var e=document.forms[0].wlg1ssid.value;b.wl_ssid.value=c;if(b.bridge_sec_type.selectedIndex==0){if(c==""){alert("$ssid_null");return false}for(i=0;i<c.length;i++){if(isValidChar_space(c.charCodeAt(i))==false){alert("$ssid_not_allowed");return false}}b.hid_bridge_sec_type.value=24;if(b.security_type[1].checked==true){if(checkwep(b)==false){return false}b.wl_hidden_sec_type.value=2}else{if(b.security_type[2].checked==true){if(checkpsk(b.passphrase,b.wl_sec_wpaphrase_len)==false){return false}b.wl_hidden_sec_type.value=3;b.wl_hidden_wpa_psk.value=b.passphrase.value}else{if(b.security_type[3].checked==true){if(checkpsk(b.passphrase,b.wl_sec_wpaphrase_len)==false){return false}b.wl_hidden_sec_type.value=4;b.wl_hidden_wpa_psk.value=b.passphrase.value}else{if(b.security_type[4].checked==true){if(checkpsk(b.passphrase,b.wl_sec_wpaphrase_len)==false){return false}b.wl_hidden_sec_type.value=5;b.wl_hidden_wpa_psk.value=b.passphrase.value}else{if(b.security_type[5].checked==true){radiusServerIP=b.radiusIPAddr1.value+"."+b.radiusIPAddr2.value+"."+b.radiusIPAddr3.value+"."+b.radiusIPAddr4.value;if(radiusServerIP==""||checkipaddr(radiusServerIP)==false){alert("$invalid_ip");return false}if(isSameIp(lanIP,radiusServerIP)==true){alert("$invalid_ip");return false}if(isSameIp(wanIP,radiusServerIP)==true){alert("$conflicted_with_wanip");return false}b.radiusServerIP.value=radiusServerIP;radiusPort=parseInt(b.textWpaeRadiusPort.value,10);if(isNaN(radiusPort)||radiusPort<1||radiusPort>65535){alert("$radiusPort65535");return false}b.textWpaeRadiusPort.value=radiusPort;if(b.textWpaeRadiusSecret.value==""){alert("$radiusSecret128");return false}if(b.textWpaeRadiusSecret.length>128){alert("$radiusSecret128");return false}for(i=0;i<b.textWpaeRadiusSecret.value.length;i++){if(isValidChar(b.textWpaeRadiusSecret.value.charCodeAt(i))==false){alert("$radiusSecret128");b.textWpaeRadiusSecret.focus();return false}}b.hidden_WpaeRadiusSecret.value=b.textWpaeRadiusSecret.value;b.wl_hidden_sec_type.value=6;b.textWpaeRadiusPort.value=port_range_interception(b.textWpaeRadiusPort.value)}else{b.wl_hidden_sec_type.value=1}}}}}}else{b.hid_bridge_sec_type.value=5;if(an_router_flag==1){b.wla_ssid.value=a;if(a==""){alert("$ssid_null");return false}for(i=0;i<c.length;i++){if(isValidChar_space(a.charCodeAt(i))==false){alert("$ssid_not_allowed");return false}}if(b.security_type_an[1].checked==true){if(checkwep_a(b)==false){return false}b.wla_hidden_sec_type.value=2}else{if(b.security_type_an[2].checked==true){if(checkpsk(b.passphrase_an,b.wla_sec_wpaphrase_len)==false){return false}b.wla_hidden_sec_type.value=3;b.wla_hidden_wpa_psk.value=b.passphrase_an.value}else{if(b.security_type_an[3].checked==true){if(checkpsk(b.passphrase_an,b.wla_sec_wpaphrase_len)==false){return false}b.wla_hidden_sec_type.value=4;b.wla_hidden_wpa_psk.value=b.passphrase_an.value}else{if(b.security_type_an[4].checked==true){if(checkpsk(b.passphrase_an,b.wla_sec_wpaphrase_len)==false){return false}b.wla_hidden_sec_type.value=5;b.wla_hidden_wpa_psk.value=b.passphrase_an.value}else{if(b.security_type_an[5].checked==true){radiusServerIP=b.radiusIPAddr1_an.value+"."+b.radiusIPAddr2_an.value+"."+b.radiusIPAddr3_an.value+"."+b.radiusIPAddr4_an.value;if(radiusServerIP==""||checkipaddr(radiusServerIP)==false){alert("$invalid_ip");return false}if(isSameIp(lanIP,radiusServerIP)==true){alert("$invalid_ip");return false}if(isSameIp(wanIP,radiusServerIP)==true){alert("$conflicted_with_wanip");return false}b.radiusServerIP_a.value=radiusServerIP;radiusPort=parseInt(b.textWpaeRadiusPort_an.value,10);if(isNaN(radiusPort)||radiusPort<1||radiusPort>65535){alert("$radiusPort65535");return false}b.textWpaeRadiusPort_an.value=radiusPort;if(b.textWpaeRadiusSecret_an.value==""){alert("$radiusSecret128");return false}if(b.textWpaeRadiusSecret_an.length>128){alert("$radiusSecret128");return false}for(i=0;i<b.textWpaeRadiusSecret_an.value.length;i++){if(isValidChar(b.textWpaeRadiusSecret_an.value.charCodeAt(i))==false){alert("$radiusSecret128");b.textWpaeRadiusSecret_an.focus();return false}}b.hidden_WpaeRadiusSecret_a.value=b.textWpaeRadiusSecret_an.value;b.textWpaeRadiusPort_an.value=port_range_interception(b.textWpaeRadiusPort_an.value);b.wla_hidden_sec_type.value=6}else{b.wla_hidden_sec_type.value=1}}}}}}}opener.opener_apply_click=1;b.submit()};