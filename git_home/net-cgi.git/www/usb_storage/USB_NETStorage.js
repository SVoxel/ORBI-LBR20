function set_read(a,b){if(b=="1"){a.writeAccess.value="1"}}function set_write(b,a){if(a=="0"){b.readAccess.value="0"}}function checkPathValid(e){var b;b=e.replace(/\\/g,"/");if(b.indexOf("/")==-1){return 0}else{var a=0,f=0;var d=new Array();d=b.split("/");for(var c=1;c<d.length;c++){if(d[c]==""){continue}else{if(d[c]==".."){a++}else{f++}}}if(a>f){return 1}else{return 0}}}function clickadvanced(){var b=document.forms[0];if(consolidate_device_name!=1){if(b.deviceName.value==show_deviceName){b.device_name_change_flag.value=0}else{b.device_name_change_flag.value=1}var a=b.deviceName.value;if(a==""){alert("$deviceName_NULL");return false}for(i=0;i<a.length;i++){if(isValidDevName(a.charCodeAt(i))==false){alert("$device_name_error");return false}}}else{b.device_name_change_flag.value=0}var c=0;if(b.enable_samba.checked==true){b.enableNet_value.value="0"}else{b.enableNet_value.value="1"}if(b.enable_http.checked==true){b.enableHTTP_value.value="0"}else{b.enableHTTP_value.value="1"}if(b.enable_wan_http.checked==true){b.enableHvia_value.value="0"}else{b.enableHvia_value.value="1"}if(b.workGroup.value==""){alert("$workGroup_NULL");return false}portvalue1=parseInt(b.http_via_port.value,10);if(isNaN(portvalue1)||portvalue1<443||(portvalue1>443&&portvalue1<1024)||portvalue1>65534){alert("$usb_httpvia_port");return false}b.http_via_port.value=portvalue1;if(is_ftp==1){if(b.enable_ftp.checked==true){b.enableFTP_value.value="0"}else{b.enableFTP_value.value="1"}if(b.enable_wan_ftp.checked==true){b.enableFvia_value.value="0"}else{b.enableFvia_value.value="1"}portvalue2=parseInt(b.ftp_via_port.value,10);if(isNaN(portvalue2)||portvalue2<21||(portvalue2>21&portvalue2<1024)||portvalue2>65534){alert("$usb_ftpvia_port");return false}if(portvalue1==portvalue2){alert("$invalid_port_used");return false}b.ftp_via_port.value=portvalue2}if(check_all_port()==false){alert("$invalid_port_used");return false}b.http_via_port.value=port_range_interception(b.http_via_port.value);b.ftp_via_port.value=port_range_interception(b.ftp_via_port.value);b.submit();return true}function close_window(){window.close()}function closeBrowserwindow(){window.open("","_self","");window.parent.close()}function check_input(){form=document.forms[0]}function check_port_range(name,length,port_using){var i,str,each_info,sertype,startport,endport,serflag;for(i=1;i<=length;i++){switch(name){case"forwardingArray":str=eval(name+i);each_info=str.split(" ");sertype=each_info[1];startport=each_info[2];endport=each_info[3];break;case"triggeringArray":str=eval(name+i);each_info=str.split(" ");sertype=each_info[5];startport=each_info[6];endport=each_info[7];break;case"upnpArray":str=eval(name+i);each_info=str.split(";");sertype=each_info[1];startport=each_info[3];endport=each_info[3];break;default:break}if(sertype!="UDP"){if(parseInt(startport)<=parseInt(port_using)&&parseInt(endport)>=parseInt(port_using)){return false}}}return true}function check_single_port(a){if(endis_remote=="1"&&(parseInt(a)==parseInt(remote_port))){return false}}function check_all_port(){var a=true;if(form.enable_wan_http.checked==true){if(check_port_range("forwardingArray",forward_array_num,form.http_via_port.value)==false){a=false}if(check_port_range("triggeringArray",trigger_array_num,form.http_via_port.value)==false){a=false}if(check_port_range("upnpArray",upnp_array_num,form.http_via_port.value)==false){a=false}if(check_single_port(form.http_via_port.value)==false){a=false}}if(is_ftp==1){if(form.enable_ftp.checked==true){if(check_port_range("forwardingArray",forward_array_num,21)==false){a=false}if(check_port_range("triggeringArray",trigger_array_num,21)==false){a=false}if(check_port_range("upnpArray",upnp_array_num,21)==false){a=false}if(check_single_port(21)==false){a=false}}if(form.enable_wan_ftp.checked==true){if(check_port_range("forwardingArray",forward_array_num,form.ftp_via_port.value)==false){a=false}if(check_port_range("triggeringArray",trigger_array_num,form.ftp_via_port.value)==false){a=false}if(check_port_range("upnpArray",upnp_array_num,form.ftp_via_port.value)==false){a=false}if(check_single_port(form.ftp_via_port.value)==false){a=false}}}return a}function open_browser(a){a.submit_flag.value="browser_open";a.submit()}function close_browser(a){a.submit_flag.value="browser_close";a.submit()};