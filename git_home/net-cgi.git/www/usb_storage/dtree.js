function Node(h,b,d,g,a,e,f,c){this.id=h;this.pid=b;this.name=d;this.io=g;this.shc=a;this.icon=e;this.iconOpen=f;this._is=false;this._ls=false;this._hc=false;this._ai=0;this._p}function dTree(b,a){this.icon={root:"base.gif",folder:"folder.gif",folderOpen:"folderopen.gif",node:"page.gif",empty:"empty.gif",line:"line.gif",join:"join.gif",joinBottom:"joinbottom.gif",plus:"plus.gif",plusBottom:"plusbottom.gif",minus:"minus.gif",minusBottom:"minusbottom.gif"};this.obj=b;this.aNodes=[];this.aIndent=[];this.root=new Node(-1);this.selectedNode=a;this.completed=false}dTree.prototype.add=function(h,b,d,g,a,e,f,c){this.aNodes[this.aNodes.length]=new Node(h,b,d,g,a,e,f,c)};dTree.prototype.toString=function(){var a='<div class="dtree">\n';if(document.getElementById){a+=this.addNode(this.root)}else{a+="Browser not supported."}a+="</div>";this.completed=true;return a};dTree.prototype.addNode=function(a){var b="";var d=0;for(d;d<this.aNodes.length;d++){if(this.aNodes[d].pid==a.id){var c=this.aNodes[d];c._p=a;c._ai=d;this.setCS(c);if(c.id==this.selectedNode){c._is=true;this.selectedNode=d}b+=this.node(c,d);if(c._ls){break}}}return b};dTree.prototype.node=function(a,c){var b='<div class="dTreeNode">'+this.indent(a,c);if(!a.icon){a.icon=(this.root.id==a.pid)?this.icon.root:this.icon.folder}if(!a.iconOpen){a.iconOpen=this.icon.folderOpen}if(this.root.id==a.pid){a.icon=this.icon.root;a.iconOpen=this.icon.root}b+='<img id="i'+this.obj+c+'" src="'+((a.io=="1")?a.iconOpen:a.icon)+'" alt="" />';if(this.root.id==a.pid){b+='<a id="s'+this.obj+c+'">'}else{b+='<a id="s'+this.obj+c+'" href="javascript: '+this.obj+".s("+c+');"  class="'+((a.id==this.selectedNode)?"nodeSel":"node")+'">'}b+=a.name;b+="</a>";b+="</div>";if(a._hc){b+='<div id="d'+this.obj+c+'" class="clip" style="display:'+((this.root.id==a.pid||a.io=="1")?"block":"none")+';">';b+=this.addNode(a);b+="</div>"}else{b+='<div id="d'+this.obj+c+'" class="clip"></div>'}this.aIndent.pop();return b};function test(){}dTree.prototype.indent=function(a,c){var b="";if(this.root.id!=a.pid){for(var d=0;d<this.aIndent.length;d++){b+='<img src="'+((this.aIndent[d]==1)?this.icon.line:this.icon.empty)+'" alt="" />'}(a._ls)?this.aIndent.push(0):this.aIndent.push(1);if(a.shc=="1"){b+='<a href="javascript: '+this.obj+".s("+c+');"><img id="j'+this.obj+c+'" src="';b+=((a.io=="1")?((a._ls)?this.icon.minusBottom:this.icon.minus):((a._ls)?this.icon.plusBottom:this.icon.plus));b+='" alt="" /></a>'}else{b+='<img id="j'+this.obj+c+'" src="'+((a._ls)?this.icon.joinBottom:this.icon.join)+'" alt="" />'}}return b};dTree.prototype.setCS=function(a){var b;for(var c=0;c<this.aNodes.length;c++){if(this.aNodes[c].pid==a.id){a._hc=true}if(this.aNodes[c].pid==a.pid){b=this.aNodes[c].id}}if(b==a.id){a._ls=true}};dTree.prototype.s=function(id){var cn=this.aNodes[id];var Dio=(cn.io=="1")?"0":"1";cn.io=Dio;if(this.selectedNode!=id){if(this.selectedNode||this.selectedNode==0){eOld=document.getElementById("s"+this.obj+this.selectedNode);eOld.className="node"}}eNew=document.getElementById("s"+this.obj+id);eNew.className="nodeSel";this.selectedNode=id;var form=document.forms[0];var str=eval("node"+id).replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&#35;/g,"#").replace(/&#38;/g,"&");echo_info=str.split("*");form.nodenumber.value=id;if(echo_info[0]=="0"){form.currentpath.value=echo_info[2];parent.bottom.document.forms[0].folder_path.value=echo_info[2];var value=""+echo_info[0]+"*"+cn.io+"*"+echo_info[2]+"*"+echo_info[3]+"*"+echo_info[4]}else{form.currentpath.value=echo_info[3];parent.bottom.document.forms[0].folder_path.value=echo_info[3];var value=""+echo_info[0]+"*"+echo_info[1]+"*"+cn.io+"*"+echo_info[3]+"*"+echo_info[4]+"*"+echo_info[5]}form.nodevalue.value=value;if(echo_info[5]=="folder"||(echo_info[0]=="0"&&echo_info[4]=="folder")){if(cn.io=="1"){open_browser(form)}else{close_browser(form)}}};if(!Array.prototype.push){Array.prototype.push=function array_push(){for(var a=0;a<arguments.length;a++){this[this.length]=arguments[a]}return this.length}}if(!Array.prototype.pop){Array.prototype.pop=function array_pop(){lastElement=this[this.length-1];this.length=Math.max(this.length-1,0);return lastElement}};