function click_ddns(c){var b=str_replace(old_sysDNSHost);var a=str_replace(old_sysDNSUser);var d=0;if(c.sysDNSActive.checked){c.ddns_enabled.value="1"}else{c.ddns_enabled.value="0"}if(ddns_wildcards_flag==1&&c.sysDNSProviderlist.value=="www/var/www.3322.org"){if(c.sysDNSWildCard.checked){c.wildcards_enabled.value="1"}else{c.wildcards_enabled.value="0"}}else{c.wildcards_enabled.value="0"}c.hidden_sysDNSProviderlist.value=c.sysDNSProviderlist.value;c.sysDNSHost.value=c.sysDNSHost.value.replace(/\s/ig,"");c.hidden_sysDNSHost.value=c.sysDNSHost.value;if(c.sysDNSActive.checked){if(c.sysDNSHost.value==""&&c.sysDNSProviderlist.value!="www/var/www.oray.cn"){alert("$hostname_null");return false}if(c.sysDNSUser.value==""){alert("$user_name_null");return false}if(c.sysDNSPassword.value==""){alert("$password_null");return false}if(c.sysDNSProviderlist.value!="www/var/www.oray.cn"){for(i=0;i<c.sysDNSHost.value.length;i++){if(isValidDdnsHost(c.sysDNSHost.value.charCodeAt(i))==false){alert("$hostname_error");return false}}}if(c.sysDNSProviderlist.value=="www/var/www.oray.cn"){for(i=0;i<c.sysDNSUser.value.length;i++){if(isValidDdnsOrayUserName(c.sysDNSUser.value.charCodeAt(i))==false){alert("$user_name_error");return false}}}else{for(i=0;i<c.sysDNSUser.value.length;i++){if(isValidChar_space(c.sysDNSUser.value.charCodeAt(i))==false){alert("$user_name_error");return false}}}for(i=0;i<c.sysDNSPassword.value.length;i++){if(isValidChar_space(c.sysDNSPassword.value.charCodeAt(i))==false){alert("$password_error");return false}}if((c.sysDNSProviderlist.value=="www/var/www.DynDNS.org"&&c.hidden_pwd_change_1.value=="1")||(c.sysDNSProviderlist.value=="www/var/www.oray.cn"&&c.hidden_pwd_change_2.value=="1")||(c.sysDNSProviderlist.value=="www/var/www.3322.org"&&c.hidden_pwd_change_3.value=="1")||(c.sysDNSProviderlist.value=="www/var/dynupdate.no-ip.com"&&c.hidden_pwd_change_4.value=="1")){d=1}if((b==c.sysDNSHost.value)&&(a==c.sysDNSUser.value)&&d==0&&(old_endis_wildcards==c.wildcards_enabled.value)&&(old_endis_ddns==c.ddns_enabled.value)&&(dns_list==c.sysDNSProviderlist.value)){alert("$ddns_warning_message");return false}}if(old_endis_ddns!=c.ddns_enabled.value||old_sysDNSHost!=c.hidden_sysDNSHost.value||old_sysDNSUser!=c.sysDNSUser.value||d==1||old_endis_wildcards!=c.wildcards_enabled.value){c.change_wan_type.value=0}else{c.change_wan_type.value=1}if((dns_list!=c.sysDNSProviderlist.value||(dns_list==c.sysDNSProviderlist.value&&old_sysDNSHost!=c.sysDNSHost.value))&&vpn_enable=="1"&&c.sysDNSActive.checked==true){c.hid_vpn_detect_ddns_change.value=1}else{c.hid_vpn_detect_ddns_change.value=0}parent.ddns_post_flag=1;return true}function str_replace(a){a=a.replace(/&#92;/g,"\\").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&#35;/g,"#").replace(/&#38;/g,"&");return a}function parse_xss_str(){old_sysDNSHost_1=str_replace(old_sysDNSHost_1);old_sysDNSUser_1=str_replace(old_sysDNSUser_1);old_sysDNSHost_2=str_replace(old_sysDNSHost_2);old_sysDNSUser_2=str_replace(old_sysDNSUser_2);old_sysDNSHost_3=str_replace(old_sysDNSHost_3);old_sysDNSUser_3=str_replace(old_sysDNSUser_3);old_sysDNSHost_4=str_replace(old_sysDNSHost_4);old_sysDNSUser_4=str_replace(old_sysDNSUser_4)}function change_ddns_password(b){var a=document.forms[0];if(b.type=="password"){if(get_browser()=="Firefox"){b.value="";b.type="text"}else{if(a.sysDNSProviderlist.value=="www/var/www.oray.cn"){b.outerHTML='<input type="text" name="sysDNSPassword" onfocus="this.select();change_ddns_password(this);" size="32" maxlength="16">'}else{b.outerHTML='<input type="text" name="sysDNSPassword" onfocus="this.select();change_ddns_password(this);" size="32" maxlength="64">'}a.sysDNSPassword.select()}}if(a.sysDNSProviderlist.value=="www/var/www.DynDNS.org"){a.hidden_pwd_change_1.value="1"}else{if(a.sysDNSProviderlist.value=="www/var/www.oray.cn"){a.hidden_pwd_change_2.value="1"}else{if(a.sysDNSProviderlist.value=="www/var/www.3322.org"){a.hidden_pwd_change_3.value="1"}else{if(a.sysDNSProviderlist.value=="www/var/dynupdate.no-ip.com"){a.hidden_pwd_change_4.value="1"}}}}};